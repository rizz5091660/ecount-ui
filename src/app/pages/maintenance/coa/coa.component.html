<p-panel>
  <p-header>
    <label class="col-form-label">Chart of Account</label>
  </p-header>
  <div class="form-group row">
    <div class="col-md-12">
      <p-toolbar>
        <div class="ui-toolbar-group-left">
          <button pButton type="button" label="Add Bank Account" icon="pi pi-plus" style="margin-right:10px"></button>
          <button pButton type="button" label="Print PDF" style="margin-right:10px"></button>
          <button pButton type="button" label="Import" style="margin-right:10px"></button>
          <button pButton type="button" label="Export" style="margin-right:10px"></button>
        </div>

        <div class="ui-toolbar-group-right">
          <button pButton type="button" icon="pi pi-search"></button>
          <button pButton type="button" icon="pi pi-calendar" class="ui-button-success"></button>
          <button pButton type="button" icon="pi pi-times" class="ui-button-danger"></button>
        </div>
      </p-toolbar>
      <p-table #dt [columns]="cols" [value]="modelDD.coas" [paginator]="true" [rows]="10" selectionMode="single"
        [(selection)]="model" (onRowSelect)="onRowSelect($event)">
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of cols">{{col.header}}</th>
          </tr>
          <tr>
            <th *ngFor="let col of cols" [ngSwitch]="col.type">
              <input *ngSwitchCase="'txt'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)"
                style="width:100%">
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-coa let-columns="cols">
          <tr [pSelectableRow]="coa">
            <td *ngFor="let col of cols">
              {{coa[col.field]}}
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="footer" let-columns>
          <tr>
            <td colspan="5" align="center"> <button type="button" class="ui-button-secondary ui-button-rounded" pButton
                icon="pi pi-plus" label="Add a coa" (click)="onAdd()"></button></td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</p-panel>

<p-dialog header="Chat of Accout" [(visible)]="display" [modal]="true" [responsive]="true" [width]="800" [minWidth]="200"
  [minY]="70" [maximizable]="true" [baseZIndex]="10000">
  <div class="row">
    <div class="col-md-12">
      <form (ngSubmit)="onSubmit();d('Cross click');" #coaForm="ngForm">
          <div class="form-group row">
              <div class="col-sm-6">
                  <label for="coaCd" class="col-form-label">Code</label><br />
                  <input type="text" id="coaCd" pInputText [(ngModel)]="model.coaCd" name="coaCd">
                </div>  
              <div class="col-sm-6">
                  <label for="name" class="col-form-label">Name</label><br />
                  <input type="text" id="name" pInputText [(ngModel)]="model.name" name="name">      
              </div>
            </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <label for="l1AccountType" class="col-form-label">Account Type</label><br />
            <p-dropdown [options]="modelDD.accountTypes" [(ngModel)]="model.l1AccountType" [style]="{'width':'100%'}"
              filter="true" name="model.l1AccountType">
              <ng-template let-item pTemplate="selectedItem">
                <span style="vertical-align:middle; margin-left: .5em">{{item.label}}</span>
              </ng-template>
              <ng-template let-lbl pTemplate="item">
                <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
                  <div style="font-size:14px;float:left;margin-top:4px">{{lbl.label}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>
          <div class="col-sm-6">
            <label for="l2Branch" class="col-form-label">Branch</label><br />
            <p-dropdown [options]="modelDD.branches" [(ngModel)]="model.branches" [style]="{'width':'100%'}" filter="true"
              name="model.l1AccountType">
              <ng-template let-item pTemplate="selectedItem">
                <span style="vertical-align:middle; margin-left: .5em">{{item.label}}</span>
              </ng-template>
              <ng-template let-lbl pTemplate="item">
                <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
                  <div style="font-size:14px;float:left;margin-top:4px">{{lbl.label}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <label for="l3CustSupp" class="col-form-label">Customer/Supplier</label><br />
            <p-dropdown [options]="modelDD.custSupps" [(ngModel)]="model.l3CustSupp" [style]="{'width':'100%'}" filter="true"
              name="model.l1AccountType">
              <ng-template let-item pTemplate="selectedItem">
                <span style="vertical-align:middle; margin-left: .5em">{{item.label}}</span>
              </ng-template>
              <ng-template let-lbl pTemplate="item">
                <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
                  <div style="font-size:14px;float:left;margin-top:4px">{{lbl.label}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>
          <div class="col-sm-6">
            <label for="l4Division" class="col-form-label">Division</label><br />
            <p-dropdown [options]="modelDD.divisions" [(ngModel)]="model.l4Division" [style]="{'width':'100%'}" filter="true"
              name="model.l1AccountType">
              <ng-template let-item pTemplate="selectedItem">
                <span style="vertical-align:middle; margin-left: .5em">{{item.label}}</span>
              </ng-template>
              <ng-template let-lbl pTemplate="item">
                <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
                  <div style="font-size:14px;float:left;margin-top:4px">{{lbl.label}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <label for="tax" class="col-form-label">Taxes</label><br />
            <p-dropdown [options]="modelDD.taxes" [(ngModel)]="model.tax" [style]="{'width':'100%'}" filter="true" name="model.l1AccountType">
              <ng-template let-item pTemplate="selectedItem">
                <span style="vertical-align:middle; margin-left: .5em">{{item.label}}</span>
              </ng-template>
              <ng-template let-lbl pTemplate="item">
                <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
                  <div style="font-size:14px;float:left;margin-top:4px">{{lbl.label}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>
          <div class="col-sm-6">
              <label for="description" class="col-form-label">Description</label><br />
                <textarea rows="5" cols="30" pInputTextarea [(ngModel)]="model.description" name="model.description"></textarea>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            <p-button  type="submit" icon="pi pi-check">Submit</p-button >
          </div>
        </div>
      </form>
    </div>
  </div>
</p-dialog>